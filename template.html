<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="$lang$" xml:lang="$lang$"$if(dir)$ dir="$dir$"$endif$>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>$if(title-prefix)$$title-prefix$ – $endif$$pagetitle$</title>
$if(description)$
  <meta name="description" content="$description$" />
  <link rel="apple-touch-icon-precomposed" href="/img/touch-icon-dark.png">
  <link rel="icon" sizes="32x32" href="/img/favicon-dark@2x.png">
  <link rel="icon" sizes="16x16" href="/img/favicon-dark.png">
  <link rel="canonical" href="https://jez.io">
$endif$
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
$if(quotes)$
      q { quotes: "“" "”" "‘" "’"; }
$endif$
  </style>
$for(css)$
  <link rel="stylesheet" href="$css$">
$endfor$
$if(math)$
  $math$
$endif$
$for(header-includes)$
  $header-includes$
$endfor$
</head>
<body>
$for(include-before)$
$include-before$
$endfor$
<main>
$body$
</main>
$for(include-after)$
$include-after$
$endfor$
<script>
const useLightTheme = () => {
  const stored = window.localStorage.getItem('useLightTheme');
  if (stored == null) {
    return false;
  } else {
    return JSON.parse(stored);
  }
}

const setFaviconLight = () => {
  document.querySelector('link[rel="apple-touch-icon-precomposed"]').href = '/img/touch-icon-light.png'
  document.querySelector('link[rel="icon"][sizes="32x32"]').href = '/img/favicon-light@2x.png'
  document.querySelector('link[rel="icon"][sizes="16x16"]').href = '/img/favicon-light.png'
}

const setFaviconDark = () => {
  document.querySelector('link[rel="apple-touch-icon-precomposed"]').href = '/img/touch-icon-dark.png'
  document.querySelector('link[rel="icon"][sizes="32x32"]').href = '/img/favicon-dark@2x.png'
  document.querySelector('link[rel="icon"][sizes="16x16"]').href = '/img/favicon-dark.png'
}

// First load
if (useLightTheme()) {
  document.querySelector('html').classList.toggle('solarized-light');
  setFaviconLight();
}

document.getElementById('toggle-theme').addEventListener('click', (ev) => {
  ev.preventDefault();
  const current = useLightTheme();
  window.localStorage.setItem('useLightTheme', !current);
  document.querySelector('html').classList.toggle('solarized-light');
  if (current) {
    setFaviconDark();
  } else {
    setFaviconLight();
  }
});
</script>
</body>
</html>
